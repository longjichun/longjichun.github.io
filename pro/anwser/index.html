<!DOCTYPE HTML>
<html>
<head>
    <title>党内法规答题活动</title>
    <meta charset="utf-8" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="content-type" name="viewport" id="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, width=device-width" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-touch-fullscreen" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <link rel="icon" href="" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="css/part.css?time=20180401" />
    <link rel="stylesheet" type="text/css" href="css/newly.css?time=20180401" />
    <!--<script type="text/javascript" src="https://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>-->
    <script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
    <!--<script type="text/javascript" src="js/js.cookie-2.2.0.min.js"></script>-->
    <script type="text/javascript" src="js/common.js"></script>

</head>
<body>
<!-- 强制关注公众号 -->
<!-- Skin hook模块 -->
<link rel="stylesheet" type="text/css" href="css/hook.css" />
<section id="sec1" class="hide">
    <div class="operation">
        <a id="startAnser" class="sure" href="javascript:void(0)">开始答题</a>
        <div class="links">
            <a href="#">查看排行</a>
            <span>|</span>
            <a href="#">我要学习</a>
            <span>|</span>
            <a href="./rule.html">活动规则</a>
        </div>
    </div>
</section>
<section id="sec2" class="hide">
    <div class="content">
        <div class="header"></div>
        <div class="forminfo">
            <ol>
                <li>
                    <div class="icon"></div>
                    <div class="gap">|</div>
                    <div class="ipt">
                        <input type="text" placeholder="请输入您的真实姓名">
                    </div>
                </li>
                <li>
                    <div class="icon"></div>
                    <div class="gap">|</div>
                    <div class="ipt sel">
                        <select placeholder="请输入您的真实姓名">
                            <option>请选择您所在的城市</option>
                            <option>请选择您所在的城市</option>
                            <option>请选择您所在的城市</option>
                        </select>
                        <div class="sanjiao-p">
                            <div class="sanjiao-c"></div>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="icon"></div>
                    <div class="gap">|</div>
                    <div class="ipt sel">
                        <select placeholder='区域'>
                            <option>请选择您所在的区域</option>
                            <option>请选择您所在的区域</option>
                            <option>请选择您所在的区域</option>
                        </select>
                        <div class="sanjiao-p">
                            <div class="sanjiao-c"></div>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="icon"></div>
                    <div class="gap">|</div>
                    <div class="ipt">
                        <input type="text" placeholder="请输入您的单位全称">
                    </div>
                </li>
                <li>
                    <div class="icon"></div>
                    <div class="gap">|</div>
                    <div class="ipt">
                        <input type="Number" placeholder="请输入您的手机号码">
                    </div>
                </li>
            </ol>
            <a href="javascript:void(0);" id="fillInfo" class="sure">确认</a>
        </div>
    </div>
</section>
<section id="sec3" class="ques-anw ov hide">
    <div class="header-time ov">
        <span>00:00:00</span>
    </div>
    <div class="question">
        <p class="mult"><i></i><span>党组织再纪律审查中发现党员有贪污贿赂、失职渎职等刑法规定的行为涉嫌犯罪的，应当给予___处分。</span></p>
    </div>
    <div class="choice">
        <ul>
            <!-- choosed 已选择     right-anwser 正确答案       cho-right 选择正确 -->
            <li class="choosed right-anwser cho-right"><i></i><span>选择一个正确的</span><b></b></li>
            <li class="choosed cho-error"><i></i><span>选择一个错误的</span><b></b></li>
            <li class="right-anwser"><i></i><span>没有选择正确的</span><b></b></li>
            <li><i></i><span>没有选择错误的</span><b></b></li>
        </ul>
    </div>
    <div class="next-que">
        <div class="items">
            <i class="current">00</i>
            <i>/</i>
            <i class="total">00</i>
        </div>
        <div class="btn-next">下一题</div>
    </div>
</section>
<section id="sec4" class="hide">
    <div class="grade">
        <div class="bg"> 
            <div class="header ov">
                <div class="fl name">
                    <span>姓名:</span>
                    <i>王二</i>
                </div>
                <div class="fr used-time">
                    <i></i>
                    <span>00:00:00</span>
                </div>
            </div>
            <div class="result">
                <div class="count">
                    <div class="w">
                        <div class="inner">
                            <div class="num">50</div>
                            <div class="n">分数</div>
                        </div>
                    </div>
                    
                </div>
                <div class="rank">
                    <div class="w">
                        <div class="inner">
                            <div class="num">50</div>
                            <div class="n">排名</div>
                        </div>
                    </div>
                </div>
                <div class="corret">
                    <div class="w">
                        <div class="inner">
                            <div class="num">50</div>
                            <div class="n">正确率</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="btn-reanwser">
        再答一次
    </div>
    <div class="links">
        <a href="#">查看排行</a>
        <span>|</span>
        <a href="#">我要学习</a>
        <span>|</span>
        <a href="./rule.html">活动规则</a>
    </div>
</section>
<section id="sec5">
    <div class="ranklist">
        <ul>
            <li class="forward">
                <i></i>
                <span>卷卷心</span>
                <span>100分</span>
                <span class="per-time">00:00:00</span>
            </li>
            <li class="forward">
                <i></i>
                <span>卷卷心</span>
                <span>100分</span>
                <span class="per-time">00:00:00</span>
            </li>
            <li class="forward">
                <i>1</i>
                <span>卷卷心</span>
                <span>100分</span>
                <span class="per-time">00:00:00</span>
            </li>
        </ul>
    </div>

</section>

<div class="share">
    <div>
        <ul>
            <li>
                <img src="http://moment.rednet.cn/common/img/weibo.png" />
                <span>新浪微博</span>
            </li>
            <li>
                <img src="http://moment.rednet.cn/common/img/wechat.png" />
                <span>微信好友</span>
            </li>
            <li>
                <img src="http://moment.rednet.cn/common/img/pyq.png" />
                <span>微信朋友圈</span>
            </li>
            <li>
                <img src="http://moment.rednet.cn/common/img/qq.png" />
                <span>QQ好友</span>
            </li>
        </ul>
        <div>取消</div>
    </div>
</div>
<script type="text/javascript">
    function showModule(n){
        $("section").hide()
        $("section").eq(n).show()
    }
    function fillNum(n) {
        if(n<10) {
            return '0'+n;
        } else {
            return n;
        }
    }
    function formatTime(n) {
        var h = parseInt(n/3600)
            m = parseInt(n/60)
            s = n%60;
        return fillNum(h) +':'+ fillNum(m)+ ':' + fillNum(s)
    }
    (function(){
        // 开始首页
        var startTime = new Date('2018-05-06 18:01:00').getTime()
        var str = ['<i>','','</i>','时','<i>','','</i>','分','<i>','','</i>','秒'];
        setTimeout(function rerender(){
            var currentTime = new Date().getTime();
            var sub = startTime - currentTime;
            if(sub>0) {
                var d = new Date(sub)
                str[1] = d.getUTCHours() + 24*parseInt(sub/(24*60*60*1000));
                str[5] = d.getMinutes()
                str[9] = d.getSeconds()
                $("#startAnser").html(str.join("")).addClass("to-anwser cho-right")
                setTimeout(rerender,1000)
            } else {
                $("#startAnser").removeClass("to-anwser").html("开始答题")
            }
        })
    }());

    $("#startAnser").on("click",function(){
        showModule(2)
        runAnwser()
    });
    function totalTime() {
        var n = 0;
        setTimeout(function repeat() {
            var str = formatTime(n++)
            $(".header-time span").eq(0).html(str)
            if(true) {
                setTimeout(repeat,1000)
            }
        },1000)
    }
    function runAnwser() {

        totalTime()

        var usedTime = 0;
        $(".choice ul li").on("click",function(e){
            if(true) {
                // 单选在已选择的情况下，选择其它的答案，需要取消当前的
                $(".choosed").removeClass("choosed")
            }
            $(this).addClass('choosed')
            ifNext()
        })
        $(".choosed").on("click",function(e){
            $(this).removeClass("choosed")
            ifNext()
        })
        function ifNext() {
            if( $(".choice").find(".choosed").length ) {
                $(".toNext").show()
            } else {
                $(".toNext").hide()
            }
        }
        function examAnwser() {

        }
    }


    /*
    排名
    */
    (function(){
        shareLink()
        function shareLink() {
            $(".share img, .share span").click(function() {
                var index = $(this).parent().index(), name = null;
                switch (index) {
                    case 0://新浪微博
                        name = "SinaWeiboShare";
                        break;
                    case 1://微信好友
                        name = "WeixinFriendShare";
                        break;
                    case 2://微信朋友圈
                        name = "WeixinJSShare";
                        break;
                    case 3://QQ好友
                        name = "QQShare";
                        break;
                    default:
                        name = "WeixinJSShare";
                        break;
                }
                if (name) {
                    if (ostype == "android") {
                        if(shareFlag)
                            jsBridge.postNotification(name, '{"activity_id": "17", "title": "学习防空防灾知识,掌握防护生存技能", "link": "//moment.rednet.cn/activity/RFActivity/share.html?userid=' + userid + '&achvId=' + achvId +'&ostype=' + ostype + '", "desc": "郴州市人民防空办公室、郴州市教育局举办的中小学人防知识教育教师教案评比和学生网络竞答活动。", "img_url": "//moment.rednet.cn/common/img/RF-logo.png", "phoneNum": "", "is_update": "0"}');
                        else{
                            jsBridge.postNotification(name, '{"activity_id": "17", "title": "学习防空防灾知识,掌握防护生存技能", "link": "//moment.rednet.cn/activity/RFActivity/share.html?userid=' + userid  +'&ostype=' + ostype + '", "desc": "郴州市人民防空办公室、郴州市教育局举办的中小学人防知识教育教师教案评比和学生网络竞答活动。", "img_url": "//moment.rednet.cn/common/img/RF-logo.png", "phoneNum": "", "is_update": "0"}');
                        }

                    } else if (ostype == "ios") {
                        if(shareFlag)
                            jsBridge.postNotification(name, {activity_id: '17', title: '学习防空防灾知识,掌握防护生存技能', link: '//moment.rednet.cn/activity/RFActivity/share.html?userid=' + userid + '&achvId=' + achvId +'&ostype=' + ostype, desc: '郴州市人民防空办公室、郴州市教育局举办的中小学人防知识教育教师教案评比和学生网络竞答活动。', img_url: '//moment.rednet.cn/common/img/RF-logo.png', phoneNum: '', is_update: '0'});
                        else{
                            jsBridge.postNotification(name, {activity_id: '17', title: '学习防空防灾知识,掌握防护生存技能', link: '//moment.rednet.cn/activity/RFActivity/share.html?userid=' + userid  +'&ostype=' + ostype, desc: '郴州市人民防空办公室、郴州市教育局举办的中小学人防知识教育教师教案评比和学生网络竞答活动。', img_url: '//moment.rednet.cn/common/img/RF-logo.png', phoneNum: '', is_update: '0'});
                        }

                    }
                    $(".share").hide();
                }
            });
            $(".share>div>div").click(function() {
                $(".share").hide();
            });
        }

        function fillList(arr) {
            var temp = ['<li class="','','">','<i>','','</i>','<span>',  ''  ,'</span><span>','','</span><span class="per-time">','','</span></li>']
            var str = ''
            for(var i = 0,len = arr.length;i<len;i++ ) {
                var val = arr[i]
                if(i<3) {
                    temp[1] = ''
                    temp[4] = ''
                }
                temp[7] = val.userName
                temp[9] = val.scoreCount
                temp[11] = formatDuring(val.utilityTime)
                str = str + temp.join("")
            }
            $(".ranklist ul").html(str)
        }
    }())


</script>
</body>
</html>